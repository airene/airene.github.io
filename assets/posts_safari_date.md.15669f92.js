import{_ as a,C as n,o,c as l,H as p,Q as e}from"./chunks/framework.38a791dd.js";const m=JSON.parse('{"title":"safari 中的 new Date传参的兼容性问题","description":"new Date()中有字符串","frontmatter":{"date":"2021-08-19T00:00:00.000Z","title":"safari 中的 new Date传参的兼容性问题","tags":["js","safari"],"description":"new Date()中有字符串"},"headers":[],"relativePath":"posts/safari_date.md","filePath":"posts/safari_date.md"}'),t={name:"posts/safari_date.md"},c=e(`<h1 id="safari-中的-new-date传参的兼容性问题" tabindex="-1">safari 中的 new Date传参的兼容性问题 <a class="header-anchor" href="#safari-中的-new-date传参的兼容性问题" aria-label="Permalink to &quot;safari 中的 new Date传参的兼容性问题&quot;">​</a></h1><p>safari一直不是主力浏览器，今天一个系统的发现的macOS10.15 依然存在的一个new Date()兼容性问题</p><h2 id="表现" tabindex="-1">表现 <a class="header-anchor" href="#表现" aria-label="Permalink to &quot;表现&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">nowTimestamp</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Date</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;2021-08-19 12:12:12&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">document.</span><span style="color:#B392F0;">write</span><span style="color:#E1E4E8;">(nowTimestamp)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// safari 输出  Invalid Date</span></span>
<span class="line"><span style="color:#6A737D;">// chrome 输出  Thu Aug 19 2021 12:12:12 GMT+0800 (中国标准时间)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">nowTimestamp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;2021-08-19 12:12:12&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">document.</span><span style="color:#6F42C1;">write</span><span style="color:#24292E;">(nowTimestamp)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// safari 输出  Invalid Date</span></span>
<span class="line"><span style="color:#6A737D;">// chrome 输出  Thu Aug 19 2021 12:12:12 GMT+0800 (中国标准时间)</span></span></code></pre></div><h2 id="解决办法" tabindex="-1">解决办法 <a class="header-anchor" href="#解决办法" aria-label="Permalink to &quot;解决办法&quot;">​</a></h2><h3 id="改用大家都兼容的格式" tabindex="-1">改用大家都兼容的格式 <a class="header-anchor" href="#改用大家都兼容的格式" aria-label="Permalink to &quot;改用大家都兼容的格式&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 如果构造函数要传参可以这样</span></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Date</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;2018-11-11 00:00:00&#39;</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">-</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Date</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;2018-11-11 00:00:00&#39;</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;T&quot;</span><span style="color:#E1E4E8;">))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 如果构造函数要传参可以这样</span></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;2018-11-11 00:00:00&#39;</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/-/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;2018-11-11 00:00:00&#39;</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/ /</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;T&quot;</span><span style="color:#24292E;">))</span></span></code></pre></div><p><strong>两种格式都行</strong></p><h3 id="用类库来解决-比如引入dayjs来抹平" tabindex="-1">用类库来解决 比如引入dayjs来抹平 <a class="header-anchor" href="#用类库来解决-比如引入dayjs来抹平" aria-label="Permalink to &quot;用类库来解决 比如引入dayjs来抹平&quot;">​</a></h3>`,9);function r(y,i,E,d,F,h){const s=n("Comment");return o(),l("div",null,[c,p(s)])}const D=a(t,[["render",r]]);export{m as __pageData,D as default};
