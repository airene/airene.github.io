import{r as s,o as n,c as a,a as e,d as t,e as o}from"./app.eb35be3c.js";const l='{"title":"ts之infer使用","description":"看到infer到时候就懵了，从网上找到文章基本都讲都不是很清楚，至少我看起来不是很清楚","frontmatter":{"date":"2021-08-21","title":"ts之infer使用","tags":["ts"],"description":"看到infer到时候就懵了，从网上找到文章基本都讲都不是很清楚，至少我看起来不是很清楚"},"headers":[{"level":2,"title":"前提条件 & 理解关键","slug":"前提条件-理解关键"},{"level":2,"title":"extends","slug":"extends"},{"level":2,"title":"两个例子","slug":"两个例子"},{"level":2,"title":"一张图来加深说明","slug":"一张图来加深说明"},{"level":2,"title":"拓展加强","slug":"拓展加强"}],"relativePath":"posts/ts_infer.md","lastUpdated":1630328512813}',c={},p=t("h1",{id:"ts之infer的理解"},[t("a",{class:"header-anchor",href:"#ts之infer的理解","aria-hidden":"true"},"#"),o(" ts之infer的理解")],-1),r=t("h2",{id:"前提条件-理解关键"},[t("a",{class:"header-anchor",href:"#前提条件-理解关键","aria-hidden":"true"},"#"),o(" 前提条件 & 理解关键")],-1),k=t("ul",null,[t("li",null,[t("code",null,"infer"),o(" 在类型计算或者推导的时候使用")]),t("li",null,[o("需要结合"),t("code",null,"extends"),o("，"),t("code",null,"extends"),o("很好理解，就是"),t("strong",null,"是否是子集")]),t("li",null,[t("code",null,"infer"),o("只能出现在"),t("code",null,"extends"),o("为"),t("code",null,"true"),o("的分支")])],-1),i=t("h2",{id:"extends"},[t("a",{class:"header-anchor",href:"#extends","aria-hidden":"true"},"#"),o(" extends")],-1),u=t("div",{class:"language-ts"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 如果A是B的子集 则T1为类型X，否则类型为Y"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[t("span",{class:"token constant"},"T1")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token constant"},"A"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token class-name"},[t("span",{class:"token constant"},"B")]),o(),t("span",{class:"token operator"},"?"),o(),t("span",{class:"token constant"},"X"),t("span",{class:"token operator"},":"),t("span",{class:"token constant"},"Y"),o("\n")])])],-1),d=t("h2",{id:"两个例子"},[t("a",{class:"header-anchor",href:"#两个例子","aria-hidden":"true"},"#"),o(" 两个例子")],-1),h=t("p",null,"只是为了举例，不是完整的官方类型工具类的代码",-1),f=t("div",{class:"language-ts"},[t("pre",null,[t("code",null,[t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("ReturnType"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token punctuation"},"("),o("param"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"any"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token keyword"},"infer"),o(),t("span",{class:"token constant"},"R"),o(),t("span",{class:"token operator"},"?"),o(),t("span",{class:"token constant"},"R"),o(),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[o("ParamsType"),t("span",{class:"token operator"},"<"),t("span",{class:"token constant"},"T"),t("span",{class:"token operator"},">")]),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token constant"},"T"),o(),t("span",{class:"token keyword"},"extends"),o(),t("span",{class:"token punctuation"},"("),o("param"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token keyword"},"infer"),o(),t("span",{class:"token constant"},"P"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(),t("span",{class:"token builtin"},"any"),o(),t("span",{class:"token operator"},"?"),o(),t("span",{class:"token constant"},"P"),o(),t("span",{class:"token operator"},":"),o(),t("span",{class:"token constant"},"T"),t("span",{class:"token punctuation"},";"),o("\n\n"),t("span",{class:"token keyword"},"interface"),o(),t("span",{class:"token class-name"},"User"),o(),t("span",{class:"token punctuation"},"{"),o("\n  name"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"string"),t("span",{class:"token punctuation"},";"),o("\n  age"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},"Func1"),o(),t("span",{class:"token operator"},"="),o(),t("span",{class:"token punctuation"},"("),o("user"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token builtin"},"number"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token operator"},"=>"),o(" User"),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[t("span",{class:"token constant"},"T1")]),o(),t("span",{class:"token operator"},"="),o(" ReturnType"),t("span",{class:"token operator"},"<"),o("Func1"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},";"),o(),t("span",{class:"token comment"},"// T1 = User "),o("\n"),t("span",{class:"token keyword"},"type"),o(),t("span",{class:"token class-name"},[t("span",{class:"token constant"},"T2")]),o(),t("span",{class:"token operator"},"="),o(" ReturnType"),t("span",{class:"token operator"},"<"),t("span",{class:"token builtin"},"string"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},";"),o(),t("span",{class:"token comment"},"// T2= string string不是函数的子集，推导失败,返回本身"),o("\n\n")])])],-1),m=t("h2",{id:"一张图来加深说明"},[t("a",{class:"header-anchor",href:"#一张图来加深说明","aria-hidden":"true"},"#"),o(" 一张图来加深说明")],-1),y=t("p",null,[t("img",{src:"/assets/ts_infer.5103d841.jpg",alt:"infer"})],-1),g=t("h2",{id:"拓展加强"},[t("a",{class:"header-anchor",href:"#拓展加强","aria-hidden":"true"},"#"),o(" 拓展加强")],-1),T=t("p",null,[o("里面的的UnwrapRef的历史版本真的是吓尿了，ts=类型编程不是盖的"),t("br"),t("a",{href:"https://juejin.cn/post/6844904126283776014",target:"_blank",rel:"noopener noreferrer"},"理解vue3的UnwrapRef需要多少知识")],-1);c.render=function(t,o,l,c,w,b){const x=s("Comment");return n(),a("div",null,[p,r,k,i,u,d,h,f,m,y,g,T,e(x)])};export{l as __pageData,c as default};
